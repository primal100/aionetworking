[loggers]
keys=root,asyncio,receiver,receiver.raw,receiver.message,receiver.stats,receiver.actions,sender,sender.raw,sender.message,sender.stats

[handlers]
keys=receiver,receiver_console,receiver_message,receiver_stats,sender,sender_console,sender_message,sender_stats,shared

[formatters]
keys=logFormatter,consoleFormatter,encodedFormatter,messageFormatter,receiverStats,senderStats

[filters]
keys=senderFilter

[logger_root]
level=DEBUG
handlers=receiver,receiver_console

[logger_asyncio]
level=DEBUG
handlers=shared
qualname=asyncio
propagate=0

[logger_receiver]
level=DEBUG
handlers=receiver,receiver_console
qualname=receiver
propagate=0

[logger_sender]
level=DEBUG
handlers=sender,sender_console
qualname=sender
propagate=0

[logger_receiver.raw]
level=DEBUG
handlers=receiver,receiver_console
qualname=receiver.raw
propagate=0

[logger_sender.raw]
level=DEBUG
handlers=sender,sender_console
qualname=sender.raw
propagate=0

[logger_receiver.message]
level=DEBUG
handlers=receiver_message
qualname=receiver.message
propagate=0

[logger_sender.message]
level=DEBUG
handlers=sender_message
qualname=sender.message
propagate=0

[logger_receiver.stats]
level=INFO
handlers=receiver_stats
qualname=receiver.stats
propagate=0

[logger_sender.stats]
level=INFO
handlers=sender_stats
qualname=sender.stats
propagate=0

[logger_receiver.actions]
level=DEBUG
handlers=receiver,receiver_console
qualname=receiver.actions
propagate=0

[handler_shared]
class=handlers.RotatingFileHandler
level=DEBUG
formatter=logFormatter
filename="${Dirs:Logs}/Shared_${Receiver:Port}.log"
kwargs={"filename": r${filename}, "mode": "w", "backupCount": 3}

[handler_receiver]
class=handlers.RotatingFileHandler
level=DEBUG
formatter=logFormatter
filename="${Dirs:Logs}/${Receiver:Type}_${Receiver:Port}.log"
kwargs={"filename": r${filename}, "mode": "w", "backupCount": 3}

[handler_sender]
class=handlers.RotatingFileHandler
level=DEBUG
formatter=logFormatter
filename="${Dirs:Logs}/Sender_${Receiver:Port}.log"
kwargs={"filename": r${filename}, "mode": "w", "backupCount": 3}

[handler_receiver_console]
class=StreamHandler
level=ERROR
formatter=consoleFormatter
args=(sys.stdout,)

[handler_sender_console]
class=StreamHandler
level=CRITICAL
formatter=consoleFormatter
args=(sys.stdout,)

[handler_receiver_message]
class=handlers.RotatingFileHandler
level=DEBUG
formatter=encodedFormatter
filename="${Dirs:Logs}/${Receiver:Type}_${Receiver:Port}_messages.log"
kwargs={"filename": r${filename}, "mode": "w", "backupCount": 3}

[handler_sender_message]
class=handlers.RotatingFileHandler
level=CRITICAL
formatter=messageFormatter
filename="${Dirs:Logs}/${Receiver:Type}_${Receiver:Port}_messages.log"
kwargs={"filename": r${filename}, "mode": "w", "backupCount": 3}

[handler_receiver_stats]
class=handlers.RotatingFileHandler
level=INFO
formatter=receiverStats
filename="${Dirs:Statistics}/${Receiver:Type}_${Receiver:Port}.log"
kwargs={"filename": r${filename}, "mode": "w", "backupCount": 3}
interval=1
attrs=start__time, end__time, processing_time,interval_time,average_buffer__kb,received_msgs,received__kb,processed__kb,processing_rate__kb,buffer_processing_rate
timestrf=%H:%M:%S
secondsdivideby=1

[handler_sender_stats]
class=handlers.RotatingFileHandler
level=INFO
formatter=senderStats
filename="${Dirs:Statistics}/Sender_${Receiver:Port}.log"
kwargs={"filename": r${filename}, "mode": "w", "backupCount": 3}
interval=1
attrs=start_time,end_time,sent_msgs,sent__kb

[formatter_logFormatter]
format=%(asctime)s - %(relativeCreated)d - %(levelname)s - %(name)s - %(module)s - %(funcName)s - %(message)s
datefmt=

[formatter_consoleFormatter]
format=%(message)s
datefmt=

[formatter_receiverStats]
#format='%(alias)s %(msg)s %(start_time)s %(end_time)s %(received_msgs)i %(received__kb)fKB %(processed__kb)fKB %(processing_rate__kb)fKB/s %(buffer_processing_rate)f'
format=%(alias)s %(msg)s %(start__time)s %(end__time)s %(processing_time)s %(received_msgs)i %(received__kb).2fKB %(processed__kb).2fKB %(processing_rate__kb).2fKB/s %(average_buffer__kb).2fKB %(buffer_processing_rate).2f

[formatter_senderStats]
format=%(peer)s %(msg)s %(sent_msgs)i   %(sent__kb).2fKB

[formatter_encodedFormatter]
format='%(msg)s'

[formatter_messageFormatter]
format='%(msg.pformat)s'

[filter_senderFilter]
class=sender_filter
loggers=receiver,recevier.raw,receiver.message,receiver.actions
senders=127.0.0.1,localhost

[filter_messageFilter]
class=message_filter
loggers=receiver,recevier.raw,receiver.message,receiver.actions
attr=
value=
valuetype=str
operator=eq